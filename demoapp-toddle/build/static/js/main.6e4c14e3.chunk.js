(this["webpackJsonpdemoapp-toddle"]=this["webpackJsonpdemoapp-toddle"]||[]).push([[0],{111:function(e,a,t){e.exports=t(171)},116:function(e,a,t){},162:function(e,a,t){},164:function(e,a,t){},171:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(13),c=t.n(o),l=(t(116),t(17)),s=t(18),d=t(22),i=t(20),m=t(37),u=t(6),b=t(79),f=t.n(b),p=t(8),v=t(99),E=t(46),h=t(180),j=t(179),O=t(14),g=t(31),N=t(106),y=t(182),x=t(181),D=t(176),C=t(177),k=t(178),S=(t(162),function(e){Object(d.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).addIndent=function(e){var a=n.state.boardData[e].indent;a<1&&(a+=1,n.setState((function(t){return{boardData:t.boardData.map((function(t,n){return n===e?Object(g.a)(Object(g.a)({},t),{},{indent:a}):t}))}})))},n.removeIndent=function(e){var a=n.state.boardData[e].indent;a>0&&(a-=1,n.setState((function(t){return{boardData:t.boardData.map((function(t,n){return n===e?Object(g.a)(Object(g.a)({},t),{},{indent:a}):t}))}})))},n.addRow=function(){n.setState((function(e){var a=Object(p.a)(e.boardData);return a.push({text:"",indent:0}),Object(g.a)(Object(g.a)({},e),{},{boardData:a})}))},n.removeRow=function(e){var a=n.state.boardData.length;if(a>1){for(var t=e+1,r=n.state.boardData[e].indent;t<a&&n.state.boardData[t].indent>r;)t++;n.setState((function(a){var n=Object(p.a)(a.boardData);return n.splice(e,t-e),{boardData:n}}))}else n.setState((function(e){return{boardData:[{text:"",indent:0}]}}))},n.onInputChange=function(e,a){var t=Object(p.a)(n.state.boardData);t[a].text=e,n.setState({boardData:t})},n.onChangeHeader=function(e){n.setState({boardName:e})},n.state={id:n.props.board.id,boardName:n.props.board.name,boardData:n.props.board.data},n}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this,t={onDragEnd:function(e,t){console.log("fromIndex:",e," toIndex:",t);for(var n=Object(p.a)(a.state.boardData),r=n.length,o=e+1;o<r&&1===n[o].indent;)o++;for(var c=--o-e+1,l=t+1;l<r&&1===n[l].indent;)l++;l--;var s=n.splice(e,c);if(e>t){var d=[].concat(Object(p.a)(n.slice(0,t)),Object(p.a)(s),Object(p.a)(n.slice(t)));a.setState({boardData:d})}else{var i=[].concat(Object(p.a)(n.slice(0,l+1-c)),Object(p.a)(s),Object(p.a)(n.slice(l+1-c)));a.setState({boardData:i})}},nodeSelector:"li",handleSelector:"div"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(y.a.Item,{className:"board-header d-flex"},r.a.createElement("input",{placeholder:"Board Name..",className:"justify-self",onChange:function(a){return e.onChangeHeader(a.target.value)},value:this.state.boardName.toUpperCase()}),r.a.createElement(x.a,{className:"ml-auto",overlay:r.a.createElement(D.a,{id:"tooltip-disabled"},"Remove")},r.a.createElement(O.e,{className:"mr-2 float-right",size:"1.2em",onClick:function(){return e.props.removeBoard(e.state)}})),r.a.createElement(x.a,{overlay:r.a.createElement(D.a,{id:"tooltip-disabled"},"Save")},r.a.createElement(O.d,{className:"mr-2 float-right",size:"1.2em",onClick:function(){return e.props.saveBoard({id:e.state.id,name:e.state.boardName,data:e.state.boardData})}}))),r.a.createElement(y.a.Item,null,r.a.createElement(C.a,null,r.a.createElement(k.a,{xs:!0,lg:"2",className:"text-left"},r.a.createElement("div",{className:"d-flex flex-column board-sub-header"},r.a.createElement("h5",null,"Actions"),r.a.createElement("span",null,"Move, Indent, Outdent, Delete"))),r.a.createElement(k.a,{xs:!0,lg:"2",className:"text-left"},r.a.createElement("div",{className:"d-flex flex-column board-sub-header"},r.a.createElement("h5",null,"Standard"),r.a.createElement("span",null,"The text of the standard"))))),r.a.createElement(N.a,t,r.a.createElement("div",{as:"ol"},this.state.boardData.map((function(a,t){return r.a.createElement(y.a.Item,{as:a.indent?"div":"li",key:t,className:"text-left py-0"},r.a.createElement(C.a,{className:"board-row"},r.a.createElement(k.a,{xs:!0,lg:"2",className:"py-2 col-icons"},r.a.createElement("button",{className:"button-dragger"},r.a.createElement(x.a,{as:"button",overlay:r.a.createElement(D.a,{id:"tooltip-disabled"},"Move")},r.a.createElement(O.c,{className:"mr-2",size:"1.2em"}))),r.a.createElement(x.a,{overlay:r.a.createElement(D.a,{id:"tooltip-disabled"},"Outdent")},r.a.createElement(O.a,{className:"mr-2",size:"1.2em",onClick:function(){return e.removeIndent(t,"O")}})),r.a.createElement(x.a,{overlay:r.a.createElement(D.a,{id:"tooltip-disabled"},"Indent")},r.a.createElement(O.b,{className:"mr-2",size:"1.2em",onClick:function(){return e.addIndent(t,"I")}})),r.a.createElement(x.a,{overlay:r.a.createElement(D.a,{id:"tooltip-disabled"},"Delete")},r.a.createElement(O.e,{className:"mr-2",size:"1.2em",onClick:function(){return e.removeRow(t)}}))),r.a.createElement(k.a,{xs:1,className:"pl-0 indent-"+a.indent},r.a.createElement("div",{className:"col-separator "})),r.a.createElement(k.a,{className:"p-2 col-text indent-text-"+a.indent},r.a.createElement("input",{placeholder:"Type standard here (e.g. Numbers)",onChange:function(a){return e.onInputChange(a.target.value,t)},value:a.text.charAt(0).toUpperCase()+a.text.slice(1)}))))}))))),r.a.createElement(j.a,{className:"add-button mt-2 btn-block",onClick:this.addRow},r.a.createElement(O.f,{className:"mr-2",size:"1.2em"}),"Add a standard"))}}]),t}(n.Component)),B=(t(164),function(e){Object(d.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).saveBoard=function(){var e=Object(v.a)(f.a.mark((function e(a,t){var r,o,c,l,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.state.boards,o=r.findIndex((function(e){return e.id===t})),c=[].concat(Object(p.a)(r.slice(0,o)),[Object.assign({},a)],Object(p.a)(r.slice(o+1))),l=Object.assign({},n.state,{boards:c}),s=Object(E.a)(n),fetch("/writejson",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){return s.setState({boards:c},(function(){return console.log("Board Saved ",a)}))}),(function(e){return console.log("Couldn't save Error: ".concat(e," "))}));case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),n.state={idCount:0,boards:[],fileName:""},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/readjson").then((function(e){return e.json()})).then((function(a){console.log("fetched on mount : ",a),e.setState(a)}),(function(e){console.log("fetching on mount error:",e)}))}},{key:"removeBoard",value:function(e){var a=this.state.boards,t=a.findIndex((function(a){return a.id===e}));this.setState({boards:[].concat(Object(p.a)(a.slice(0,t)),Object(p.a)(a.slice(t+1)))})}},{key:"addBoard",value:function(){this.setState({boards:[].concat(Object(p.a)(this.state.boards),[{id:this.state.idCount+1,name:"",data:[{text:"",indent:0}]}]),idCount:this.state.idCount+1})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{fluid:"md",className:"board-container-main"},this.state.boards.map((function(a,t){return r.a.createElement(S,{className:"my-2 py-2",key:a.id,board:a,saving:e.state.saving,addBoard:function(){return e.addBoard()},removeBoard:function(){return e.removeBoard(a.id)},saveBoard:function(t){return e.saveBoard(t,a.id)}})})),r.a.createElement(j.a,{className:"add-button mt-5 float-left outline-primary",onClick:function(){return e.addBoard()}},r.a.createElement(O.f,{className:"mr-2",size:"1.2em"}),"Add new board"))}}]),t}(n.Component)),I=t(84),w=t(42),z=function(e){Object(d.a)(t,e);var a=Object(i.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{sticky:"top",bg:"light",expand:"lg"},r.a.createElement(I.a.Brand,{as:m.b,to:"/"},"DemoApp"),r.a.createElement(w.a,{className:"mr=auto"},r.a.createElement(w.a.Link,{as:m.b,to:"/board"},"Board")),r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement(w.a.Link,{as:m.b,to:"/"},"Login"))))}}]),t}(n.Component),A=function(e){Object(d.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={data:null},e}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(z,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:R}),r.a.createElement(u.a,{path:"/board",exact:!0,component:B}))))}}]),t}(n.Component),R=function(){return r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement("div",{className:"my-4"},r.a.createElement("h1",null,"Home Page"),r.a.createElement("div",{className:"my-4"},r.a.createElement("h4",null,"Navigate to /board")))))},T=A;t(170);c.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.6e4c14e3.chunk.js.map